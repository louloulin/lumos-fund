# FunX - AI驱动的量化交易平台

基于Mastra.ai的AI驱动的量化交易平台，专注于基本面和技术分析。

## 核心功能

### AI交易代理

- ✅ 价值投资代理：基于PE、PB、股息等基本面指标
  - ✅ 实现了基于Mastra的价值投资代理
  - ✅ 集成了市场数据工具
  - ✅ 添加了完整的测试用例
- ✅ 成长投资代理：专注于营收增长、利润增长的公司
  - ✅ 实现了基于Mastra的成长投资代理
  - ✅ 集成了市场数据分析
  - ✅ 添加了完整的测试用例
- ✅ 趋势跟踪代理：使用移动平均线、MACD等技术指标
  - ✅ 实现了基于Mastra的趋势投资代理
  - ✅ 集成了技术分析工具
  - ✅ 添加了完整的测试用例
- ✅ 量化投资代理：多因子模型分析
  - ✅ 实现了市场数据工具
  - ✅ 支持多种数据类型分析
- ✅ 情绪分析代理：利用新闻和社交媒体情绪分析
- ✅ 风险管理代理：优化投资组合、控制回撤

### 代理测试平台

- ✅ 代理性能评估
  - ✅ 实现了完整的单元测试
  - ✅ 实现了代理协作测试
  - ✅ 实现了性能基准测试
- ✅ 代理响应质量分析
  - ✅ 测试覆盖投资建议质量
  - ✅ 测试覆盖分析完整性
- ✅ 代理行为对比
  - ✅ 实现了多代理信号一致性测试
  - ✅ 实现了性能对比分析

### 回测系统

- ✅ 历史数据回测
  - ✅ 实现了单一策略回测
  - ✅ 实现了混合策略回测
- ✅ 多策略性能比较
  - ✅ 实现了策略对比功能
  - ✅ 支持多维度分析
- ✅ 绩效指标计算：夏普比率、最大回撤、年化收益等
  - ✅ 实现了完整的绩效指标计算
  - ✅ 添加了统计分析功能
- ✅ 交易记录和图表可视化

### 数据源和分析

- ✅ 基本面数据获取
  - ✅ 实现了市场数据工具
  - ✅ 支持财务指标获取
- ✅ 价格数据获取
  - ✅ 实现了实时和历史价格获取
  - ✅ 支持高频数据分析
- ✅ 新闻和社交媒体数据整合
- ✅ 自动数据更新

### 投资组合管理

- ⬜ 多资产配置
- ⬜ 自动再平衡
- ⬜ 风险调整
- ⬜ 投资组合绩效跟踪

### 风险评估系统

- ⬜ 价格风险评估
- ⬜ 波动率预测
- ⬜ 下行风险控制
- ⬜ 压力测试

### 交易执行

- ⬜ 模拟交易
- ⬜ 交易信号生成
- ⬜ 交易执行接口

### 用户界面

- ✅ 回测结果可视化
- ✅ 策略性能比较
- ✅ 交易记录显示
- ⬜ 绩效仪表盘
- ⬜ 投资组合管理界面

## 技术架构

### 前端

- Next.js 14
- Tailwind CSS
- shadcn/ui
- Recharts 图表库

### 后端

- Next.js API Routes
- Mastra.ai SDK
- Server Actions

### AI代理框架

- Mastra.ai 代理
- 大语言模型 (Claude, GPT-4等)
- 工具和知识库

### 数据存储

- 数据库：Postgres
- 缓存：Redis

## 路线图

1. 阶段一：核心框架和基本功能 ✅
   - 搭建前端UI框架 ✅
   - 实现基本代理类型 ✅
   - 开发回测基础框架 ✅

2. 阶段二：高级分析和回测 ✅
   - 增强回测系统 ✅
   - 添加更多性能指标 ✅
   - 可视化改进 ✅

3. 阶段三：投资组合管理和风险评估
   - 投资组合优化
   - 风险管理系统
   - 多资产策略支持

4. 阶段四：实时交易和监控
   - 实时市场数据接入
   - 交易执行系统
   - 实时性能监控

## 附录：代理API参考

### 价值投资代理

输入参数：股票代码、PE、PB、ROE、股息率等基本面指标
输出：持有/买入/卖出建议和理由

### 成长投资代理

输入参数：营收增长率、利润增长率、市场份额变化等
输出：持有/买入/卖出建议和理由

### 趋势跟踪代理

输入参数：价格数据、成交量、移动平均线、MACD等
输出：技术突破信号和趋势判断

### 量化投资代理

输入参数：多因子数据
输出：综合打分和排名建议

### 情绪分析代理

输入参数：新闻标题、社交媒体帖子、分析师评级等
输出：情绪指数和交易信号

## 测试覆盖

### 单元测试

- ✅ AI代理测试
- ✅ 数据工具测试
- ✅ 回测系统测试
- ✅ 工具函数测试

### 集成测试

- ✅ 代理协作测试
- ✅ 回测流程测试
- ✅ 数据流测试
- ⬜ 端到端测试

### 性能测试

- ✅ 回测性能测试
- ⬜ 实时交易性能测试
- ⬜ 并发处理测试

## 开发工具

### 本地开发

- ✅ 开发环境配置
- ✅ 热重载支持
- ✅ 调试工具集成
- ✅ 代码质量检查

### 部署工具

- ✅ 自动化部署脚本
- ✅ 环境配置管理
- ✅ 监控和日志
- ⬜ 容器化支持 